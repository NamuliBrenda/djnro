{% extends "edumanage/welcome.html"%}
			{% block crumbs %}
	    			<li><a href="{% url manage %}">Home</a><span class="divider">/</span></li>
	    			<li class="active">Services</li>
	    			{% endblock %}
{% load i18n %}
{% block extrahead %}
<script type="text/javascript" src="/static/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="/static/js/datatables_bootstrap.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	 {% if services %}
var oTable = $('#table').dataTable({
	"sPaginationType": "bootstrap",
	"sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
	"aoColumns": [{
        "bSearchable": true,
        "bSortable": true
    }, {
        "bSearchable": true,
        "bSortable": true
    }, {
        "bSearchable": true,
        "bSortable": true
    }, {
        "bSearchable": true,
        "bSortable": true
    }, {
        "bSearchable": true,
        "bSortable": true
    }, {
        "bSearchable": true,
        "bSortable": true
    }, {
        "bSearchable": true,
        "bSortable": true
    }, {
        "bSearchable": true,
        "bSortable": true
    }, {
        "bSearchable": true,
        "bSortable": true
    },{
        "bSearchable": true,
        "bSortable": true
    },{
        "bVisible": true,
        "bSearchable": false,
        "bSortable": false
    }],
    "aaSorting": [[0, 'desc']],
    "iDisplayLength": 25,
    "oSearch": {"bSmart": false, "bRegex":true},
    "oLanguage": {
    	"sLengthMenu": '{% trans "Display" %} <select><option value="25">25</option><option value="50">50</option><option value="-1">{% trans "All" %}</option></select> {% trans "services" %}',
        "sProcessing":   "Processing...",
        "sZeroRecords": '{% trans "No records to display" %}',
        "sInfo":         "Showing _START_ to _END_ of _TOTAL_ entries",
        "sInfoEmpty":    "{% trans "Showing 0 to 0 of 0 entries" %}",
        "sInfoFiltered": "(filtered from _MAX_ total entries)",
        "sInfoPostFix":  "",
        "sSearch":       '{% trans "Search:" %}',
        "sUrl":          "",
        "oPaginate": {
            "sFirst":    '{% trans "First" %}',
            "sPrevious": '{% trans "Previous" %}',
            "sNext":     '{% trans "Next" %}',
            "sLast":     '{% trans "Last" %}'
        }
    }
});

oTable.fnDraw();

{% endif %}
});
</script>
{% endblock %}
			{% block homeactive %}{% endblock %}
    		{% block servicesactive %}class="active"{% endblock %}
            {% block subcontent %}
              <h4>Services</h4>
              <hr>
              <div><a href="{% url edit-services %}" class="btn btn-primary">Add new service</a></div>
	              <div class="span10"></div>
              {% load tolocale %}
              {% if services %}
               <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" width="100%" id="table">
	               <thead>
					<tr>
					<th>Name</th>
					<th>Address</th>
					<th>SSID</th>
					<th>enc_level</th>
					<th>port_restrict</th>
					<th>transp_proxy</th>
					<th>NAT</th>
					<th>IPv6</th>
					<th>AP no</th>
					<th>wired</th>
					<th>Actions</th>
					</tr>
					</thead>
					<tbody>
	                {% for service in services %}
	              	<tr class="GradeC">
	                	<td>{% tolocale service LANGUAGE_CODE%}</td>
	                	<td>{{service.address_street}}<br>{{service.address_city}}</td>
	                	<td>{{service.SSID}}</td>
	                	<td>{{service.enc_level}}</td>
	                	<td>{{service.port_restrict}}</td>
	                	<td>{{service.transp_proxy}}</td>
	                	<td>{{service.NAT}}</td>
	                	<td>{{service.IPv6}}</td>
	                	<td>{{service.AP_no}}</td>
	                	<td>{{service.wired}}</td>               	
	                	<td style="text-align: center;"><a href="{% url edit-services service.pk %}" class="btn btn-small">edit</a> <a href="{% url edit-services service.pk %}" class="btn btn-small btn-warning">delete</a></td>
	                </tr>
	              	{% endfor %}
	              	</tbody>
	              </table>
              {% else %}
              <div>No services defined yet (<a href="{% url edit-services %}">edit</a>)</div>
              {% endif %}

		{% endblock %}